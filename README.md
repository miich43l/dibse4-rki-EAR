# Spring Boot and Vaadin tutorial application source code

This repository contains the source code for the [Java Web App development tutorial series](https://bit.ly/2W6c8CO).

*Live demo:* https://crm.demo.vaadin.com

[![Open in online IDE ](https://img.shields.io/badge/Gitpod-Ready--to--Code-blue?logo=gitpod)](https://gitpod.io/#https://github.com/vaadin-learning-center/crm-tutorial) 

## Branch per chapter
You can find the completed source for each chapter in separate branches. 
The main branch will be updated to contain the finished, application once all chapters have been published. 


## Text tutorial
You can find a text version of the tutorial in the [Vaadin Learning Center](https://vaad.in/37pHRmY).

## Video tutorial
You can find a video version of the tutorial on [YouTube](https://www.youtube.com/playlist?list=PLcRrh9hGNallPtT2VbUAsrWqvkQ-XE22h)


## SQL statements to create the database

CREATE TABLE CONTACT_PERSON (ID BIGINT NOT NULL, CONTACT_PERSON_ID BIGINT NOT NULL, PERSON_ID BIGINT NOT NULL, CONTACT_PERSON_TYPE_ID BIGINT NOT NULL, PRIMARY KEY (ID));

CREATE TABLE KITCHEN (ID BIGINT NOT NULL, NAME VARCHAR(255) NOT NULL, STATUS VARCHAR(255) NOT NULL, ADDRESS_ID BIGINT NOT NULL, PRIMARY KEY (ID));

CREATE TABLE PERSON (ID BIGINT NOT NULL, BIRTHDATE DATE NOT NULL, FIRST_NAME VARCHAR(255) NOT NULL, LAST_NAME VARCHAR(255) NOT NULL, STATUS VARCHAR(255) NOT NULL, ADDRESS_ID BIGINT NOT NULL, PERSON_TYPE_ID BIGINT NOT NULL, PRIMARY KEY (ID));

CREATE TABLE PERSON_TYPE (ID BIGINT NOT NULL, DESCRIPTION VARCHAR(255) NOT NULL, PRIMARY KEY (ID));

CREATE TABLE INFORMATION_TYPE (ID BIGINT NOT NULL, DESCRIPTION VARCHAR(255) NOT NULL, PRIMARY KEY (ID));

CREATE TABLE ORDER_INFORMATION (ID BIGINT NOT NULL, PERSON_ID BIGINT NOT NULL, MONDAY VARCHAR(255), TUESDAY VARCHAR(255), WEDNESDAY VARCHAR(255), THURSDAY VARCHAR(255), FRIDAY VARCHAR(255), SATURDAY VARCHAR(255), SUNDAY VARCHAR(255), PRIMARY KEY (ID));

CREATE TABLE EMPLOYEES (ID BIGINT NOT NULL, STATUS VARCHAR(255) NOT NULL, KITCHEN_ID BIGINT NOT NULL, PERSON_ID BIGINT NOT NULL, PRIMARY KEY (ID));

CREATE TABLE ORDERS (ID BIGINT NOT NULL, DT DATE NOT NULL, DELIVERED TIMESTAMP WITHOUT TIME ZONE, PREPARED VARCHAR(255), STATUS VARCHAR(255), KITCHEN_ID BIGINT NOT NULL, PERSON_ID BIGINT NOT NULL, PRIMARY KEY (ID));

CREATE TABLE ADDRESS (ID BIGINT NOT NULL, CITY VARCHAR(255) NOT NULL, FLOOR INTEGER, HOUSE_NUMBER INTEGER NOT NULL, STATE VARCHAR(255) NOT NULL, STREET VARCHAR(255) NOT NULL, ZIP_CODE VARCHAR(255) NOT NULL, PRIMARY KEY (ID));

CREATE TABLE CONTACT_PERSON_TYPE (ID BIGINT NOT NULL, DESCRIPTION VARCHAR(255) NOT NULL, PRIMARY KEY (ID));

CREATE TABLE USERS (ID BIGINT NOT NULL, LASTLOGIN DATE, PASSWORD VARCHAR(255) NOT NULL, STATUS VARCHAR(255) NOT NULL, USERNAME VARCHAR(255) NOT NULL, EMAIL VARCHAR(255) NOT NULL, PERSON_ID BIGINT NOT NULL, PRIMARY KEY (ID));

CREATE TABLE ADDITIONAL_INFORMATION (ID BIGINT NOT NULL, VALUE VARCHAR(255) NOT NULL, INFORMATION_TYPE_ID BIGINT NOT NULL, PERSON_ID BIGINT NOT NULL, PRIMARY KEY (ID));

ALTER TABLE PERSON ADD CONSTRAINT FK_PERSON_PERSON_TYPE_ID FOREIGN KEY (PERSON_TYPE_ID) REFERENCES Person_type (ID);
ALTER TABLE PERSON ADD CONSTRAINT FK_PERSON_ADDRESS_ID FOREIGN KEY (ADDRESS_ID) REFERENCES ADDRESS (ID);

ALTER TABLE CONTACT_PERSON ADD CONSTRAINT FK_CONTACT_PERSON_CONTACT_PERSON_ID FOREIGN KEY (CONTACT_PERSON_ID) REFERENCES PERSON (ID);
ALTER TABLE CONTACT_PERSON ADD CONSTRAINT FK_CONTACT_PERSON_CONTACT_PERSON_TYPE_ID FOREIGN KEY (CONTACT_PERSON_TYPE_ID) REFERENCES CONTACT_PERSON_TYPE (ID);
ALTER TABLE CONTACT_PERSON ADD CONSTRAINT FK_CONTACT_PERSON_PERSON_ID FOREIGN KEY (PERSON_ID) REFERENCES PERSON (ID);

ALTER TABLE KITCHEN ADD CONSTRAINT FK_KITCHEN_ADDRESS_ID FOREIGN KEY (ADDRESS_ID) REFERENCES ADDRESS (ID);

ALTER TABLE EMPLOYEES ADD CONSTRAINT FK_EMPLOYEES_KITCHEN_ID FOREIGN KEY (KITCHEN_ID) REFERENCES KITCHEN (ID);
ALTER TABLE EMPLOYEES ADD CONSTRAINT FK_EMPLOYEES_PERSON_ID FOREIGN KEY (PERSON_ID) REFERENCES PERSON (ID);

ALTER TABLE ORDERS ADD CONSTRAINT FK_ORDERS_KITCHEN_ID FOREIGN KEY (KITCHEN_ID) REFERENCES KITCHEN (ID);
ALTER TABLE ORDERS ADD CONSTRAINT FK_ORDERS_PERSON_ID FOREIGN KEY (PERSON_ID) REFERENCES PERSON (ID);

ALTER TABLE ORDER_INFORMATION ADD CONSTRAINT FK_ORDER_INFORMATION_PERSON_ID FOREIGN KEY (PERSON_ID) REFERENCES PERSON (ID);

ALTER TABLE USERS ADD CONSTRAINT FK_USERS_PERSON_ID FOREIGN KEY (PERSON_ID) REFERENCES PERSON (ID);

ALTER TABLE ADDITIONAL_INFORMATION ADD CONSTRAINT FK_ADDITIONAL_INFORMATION_PERSON_ID FOREIGN KEY (PERSON_ID) REFERENCES PERSON (ID);
ALTER TABLE ADDITIONAL_INFORMATION ADD CONSTRAINT FK_ADDITIONAL_INFORMATION_INFORMATION_TYPE_ID FOREIGN KEY (INFORMATION_TYPE_ID) REFERENCES INFORMATION_TYPE (ID);
